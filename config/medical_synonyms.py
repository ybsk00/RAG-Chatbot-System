"""
서울온케어의원 의료 동의어 사전

키워드 검색 시 동의어/연관어를 확장하여 검색 커버리지를 높입니다.
병원 전문 분야(암치료, 자율신경)에 맞춘 매핑입니다.
"""

# 키 = 검색어, 값 = 동의어/연관어 리스트
MEDICAL_SYNONYMS = {
    # ── 암 치료 관련 ── (DB에 실재하는 용어 위주로 매핑)
    "암요양": ["암치료", "항암", "암환자", "면역력", "고주파", "온열"],
    "암보조": ["암치료", "항암", "고주파", "온열", "면역력"],
    "암보조치료": ["암치료", "항암", "고주파", "온열", "면역력"],
    "항암": ["화학요법", "항암치료", "항암제", "고주파", "온열"],
    "항암치료": ["화학요법", "항암", "항암제", "고주파"],
    "고주파": ["온열치료", "온열", "온코써미아", "하이퍼써미아"],
    "온열치료": ["고주파", "온열", "온코써미아", "하이퍼써미아"],
    "면역치료": ["면역", "면역력", "면역세포", "NK세포"],
    "면역": ["면역력", "면역세포", "NK세포"],
    "전이": ["재발", "전이암", "원격전이"],
    "재발": ["전이", "재발암"],
    "후유증": ["부작용", "합병증", "항암"],
    "후유증관리": ["부작용", "항암", "면역력", "암환자"],
    "부작용": ["후유증", "합병증", "항암"],
    "종양": ["암", "악성종양", "암세포"],
    "암세포": ["종양", "악성종양", "암"],
    "보조치료": ["암치료", "항암", "고주파", "온열", "면역력"],
    "미슬토": ["겨우살이", "미슬토주사"],
    "셀레늄": ["셀레니움", "셀렌"],
    "비타민C": ["고용량비타민", "비타민주사"],
    "생존율": ["생존기간", "예후"],

    # ── 자율신경 관련 ──
    "자율신경": ["자율신경실조증", "교감신경", "부교감신경"],
    "자율신경실조증": ["자율신경", "자율신경장애"],
    "두통": ["편두통", "머리아픔", "긴장성두통"],
    "어지럼": ["어지럼증", "현기증", "기립성어지럼"],
    "불면": ["불면증", "수면장애", "수면"],
    "수면": ["불면", "불면증", "수면장애", "숙면"],
    "스트레스": ["긴장", "불안", "정서장애"],
    "이명": ["귀울림"],
    "손발저림": ["저림", "말초신경"],

    # ── 일반 의료 ──
    "검사": ["진단", "검진", "정밀검사"],
    "치료": ["시술", "치료법", "요법"],
    "식단": ["식이요법", "영양", "음식"],
    "운동": ["재활운동", "스트레칭", "물리치료"],

    # ── 병원 정보 ──
    "병원소개": ["서울온케어", "온케어", "의료진", "원장", "이찬용"],
    "의료진": ["원장", "이찬용", "서울온케어"],
    "원장": ["이찬용", "의료진", "서울온케어"],
    "운영시간": ["진료시간", "영업시간", "접수"],
    "진료시간": ["운영시간", "영업시간", "접수"],
    "위치": ["주소", "오시는길", "남양주", "서울온케어"],
    "주소": ["위치", "오시는길", "남양주"],
    "연락처": ["전화", "전화번호", "상담"],
    "전화번호": ["전화", "연락처", "상담"],
    "예약": ["상담", "전화", "방문"],
    "진료과목": ["진료과", "서울온케어", "치료"],
}

# 역방향 매핑 자동 생성 (양방향 검색)
_REVERSE_MAP = {}
for _key, _synonyms in MEDICAL_SYNONYMS.items():
    for _syn in _synonyms:
        if _syn not in MEDICAL_SYNONYMS:
            if _syn not in _REVERSE_MAP:
                _REVERSE_MAP[_syn] = []
            if _key not in _REVERSE_MAP[_syn]:
                _REVERSE_MAP[_syn].append(_key)


def get_synonyms(keyword: str) -> list:
    """키워드의 동의어 리스트를 반환합니다.

    정확히 일치하는 키를 먼저 찾고, 없으면 키워드에 포함된
    사전 키를 부분 매칭으로 찾습니다.
    예: "암보조치료" → "암보조" 키 매칭 → 동의어 반환
    """
    result = list(MEDICAL_SYNONYMS.get(keyword, []))
    result.extend(_REVERSE_MAP.get(keyword, []))

    # 정확 매칭이 없으면 부분 매칭 시도
    if not result and len(keyword) >= 3:
        for key, synonyms in MEDICAL_SYNONYMS.items():
            if key in keyword or keyword in key:
                for syn in synonyms:
                    if syn not in result:
                        result.append(syn)
        for key, synonyms in _REVERSE_MAP.items():
            if key in keyword or keyword in key:
                for syn in synonyms:
                    if syn not in result:
                        result.append(syn)

    return result
